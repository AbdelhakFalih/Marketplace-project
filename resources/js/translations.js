const translations = {
  fr: {
    "site.title": "Marketplace Coopérative",
    "site.name": "CoopMarket",
    "site.tagline": "Marketplace Coopérative",
    "contact.phone": "+212 123 456 789",
    "contact.email": "contact@marketplace.ma",
    "search.placeholder": "Rechercher des produits, coopératives...",
    "search.button": "Rechercher",
    "nav.account": "Mon Compte",
    "nav.login": "Se connecter",
    "nav.register": "S'inscrire",
    "nav.dashboard": "Tableau de bord",
    "nav.profile": "Mon Profil",
    "nav.orders": "Mes Commandes",
    "nav.logout": "Déconnexion",
    "nav.home": "Accueil",
    "nav.products": "Produits",
    "nav.cooperatives": "Coopératives",
    "nav.categories": "Catégories",
    "nav.about": "À propos",
    "nav.contact": "Contact",
    "nav.offers": "Offres",
    "nav.demands": "Demandes",
    "nav.transactions": "Transactions",
    "theme.dark": "Mode sombre",
    "theme.light": "Mode clair",
    "offers.title": "Offres disponibles",
    "offers.create": "Publier une offre",
    "offers.my_offers": "Mes offres",
    "offers.edit": "Modifier l'offre",
    "offers.detail": "Détail de l'offre",
    "demands.title": "Demandes de produits",
    "demands.create": "Publier une demande",
    "demands.my_demands": "Mes demandes",
    "demands.edit": "Modifier la demande",
    "demands.detail": "Détail de la demande",
    "transactions.title": "Transactions",
    "transactions.history": "Historique",
    "transactions.my_transactions": "Mes transactions",
    "common.save": "Enregistrer",
    "common.cancel": "Annuler",
    "common.edit": "Modifier",
    "common.delete": "Supprimer",
    "common.view": "Voir",
    "common.back": "Retour",
    "common.next": "Suivant",
    "common.previous": "Précédent",
    "common.loading": "Chargement...",
    "common.no_results": "Aucun résultat trouvé",
    "footer.description":
      "Plateforme dédiée aux coopératives marocaines pour promouvoir leurs produits locaux et authentiques.",
    "footer.quick_links": "Liens Rapides",
    "footer.customer_service": "Service Client",
    "footer.help": "Aide",
    "footer.shipping": "Livraison",
    "footer.returns": "Retours",
    "footer.faq": "FAQ",
    "footer.contact": "Contact",
    "footer.rights": "Tous droits réservés.",
    "footer.privacy": "Confidentialité",
    "footer.terms": "Conditions",
    "footer.cookies": "Cookies",
  },
  ar: {
    "site.title": "سوق التعاونيات",
    "site.name": "كوب ماركت",
    "site.tagline": "سوق التعاونيات",
    "contact.phone": "+212 123 456 789",
    "contact.email": "contact@marketplace.ma",
    "search.placeholder": "البحث عن المنتجات والتعاونيات...",
    "search.button": "بحث",
    "nav.account": "حسابي",
    "nav.login": "تسجيل الدخول",
    "nav.register": "إنشاء حساب",
    "nav.dashboard": "لوحة التحكم",
    "nav.profile": "الملف الشخصي",
    "nav.orders": "طلباتي",
    "nav.logout": "تسجيل الخروج",
    "nav.home": "الرئيسية",
    "nav.products": "المنتجات",
    "nav.cooperatives": "التعاونيات",
    "nav.categories": "الفئات",
    "nav.about": "حول",
    "nav.contact": "اتصل بنا",
    "nav.offers": "العروض",
    "nav.demands": "الطلبات",
    "nav.transactions": "المعاملات",
    "theme.dark": "الوضع المظلم",
    "theme.light": "الوضع المضيء",
    "offers.title": "العروض المتاحة",
    "offers.create": "نشر عرض",
    "offers.my_offers": "عروضي",
    "offers.edit": "تعديل العرض",
    "offers.detail": "تفاصيل العرض",
    "demands.title": "طلبات المنتجات",
    "demands.create": "نشر طلب",
    "demands.my_demands": "طلباتي",
    "demands.edit": "تعديل الطلب",
    "demands.detail": "تفاصيل الطلب",
    "transactions.title": "المعاملات",
    "transactions.history": "التاريخ",
    "transactions.my_transactions": "معاملاتي",
    "common.save": "حفظ",
    "common.cancel": "إلغاء",
    "common.edit": "تعديل",
    "common.delete": "حذف",
    "common.view": "عرض",
    "common.back": "رجوع",
    "common.next": "التالي",
    "common.previous": "السابق",
    "common.loading": "جاري التحميل...",
    "common.no_results": "لا توجد نتائج",
    "footer.description": "منصة مخصصة للتعاونيات المغربية لترويج منتجاتها المحلية والأصيلة.",
    "footer.quick_links": "روابط سريعة",
    "footer.customer_service": "خدمة العملاء",
    "footer.help": "مساعدة",
    "footer.shipping": "الشحن",
    "footer.returns": "المرتجعات",
    "footer.faq": "الأسئلة الشائعة",
    "footer.contact": "اتصل بنا",
    "footer.rights": "جميع الحقوق محفوظة.",
    "footer.privacy": "الخصوصية",
    "footer.terms": "الشروط",
    "footer.cookies": "ملفات تعريف الارتباط",
  },
  en: {
    "site.title": "Cooperative Marketplace",
    "site.name": "CoopMarket",
    "site.tagline": "Cooperative Marketplace",
    "contact.phone": "+212 123 456 789",
    "contact.email": "contact@marketplace.ma",
    "search.placeholder": "Search for products, cooperatives...",
    "search.button": "Search",
    "nav.account": "My Account",
    "nav.login": "Login",
    "nav.register": "Register",
    "nav.dashboard": "Dashboard",
    "nav.profile": "My Profile",
    "nav.orders": "My Orders",
    "nav.logout": "Logout",
    "nav.home": "Home",
    "nav.products": "Products",
    "nav.cooperatives": "Cooperatives",
    "nav.categories": "Categories",
    "nav.about": "About",
    "nav.contact": "Contact",
    "nav.offers": "Offers",
    "nav.demands": "Demands",
    "nav.transactions": "Transactions",
    "theme.dark": "Dark mode",
    "theme.light": "Light mode",
    "offers.title": "Available offers",
    "offers.create": "Post an offer",
    "offers.my_offers": "My offers",
    "offers.edit": "Edit offer",
    "offers.detail": "Offer details",
    "demands.title": "Product demands",
    "demands.create": "Post a demand",
    "demands.my_demands": "My demands",
    "demands.edit": "Edit demand",
    "demands.detail": "Demand details",
    "transactions.title": "Transactions",
    "transactions.history": "History",
    "transactions.my_transactions": "My transactions",
    "common.save": "Save",
    "common.cancel": "Cancel",
    "common.edit": "Edit",
    "common.delete": "Delete",
    "common.view": "View",
    "common.back": "Back",
    "common.next": "Next",
    "common.previous": "Previous",
    "common.loading": "Loading...",
    "common.no_results": "No results found",
    "footer.description": "Platform dedicated to Moroccan cooperatives to promote their local and authentic products.",
    "footer.quick_links": "Quick Links",
    "footer.customer_service": "Customer Service",
    "footer.help": "Help",
    "footer.shipping": "Shipping",
    "footer.returns": "Returns",
    "footer.faq": "FAQ",
    "footer.contact": "Contact",
    "footer.rights": "All rights reserved.",
    "footer.privacy": "Privacy",
    "footer.terms": "Terms",
    "footer.cookies": "Cookies",
  },
}

let currentLanguage = "fr"

function changeLanguage(lang) {
  currentLanguage = lang
  document.getElementById("current-lang").textContent = lang.toUpperCase()

  if (lang === "ar") {
    document.documentElement.setAttribute("dir", "rtl")
    document.documentElement.setAttribute("lang", "ar")
  } else {
    document.documentElement.setAttribute("dir", "ltr")
    document.documentElement.setAttribute("lang", lang)
  }

  translatePage()
  localStorage.setItem("preferred-language", lang)
}

function translatePage() {
  const elements = document.querySelectorAll("[data-translate]")
  elements.forEach((element) => {
    const key = element.getAttribute("data-translate")
    if (translations[currentLanguage] && translations[currentLanguage][key]) {
      element.textContent = translations[currentLanguage][key]
    }
  })

  const placeholderElements = document.querySelectorAll("[data-translate-placeholder]")
  placeholderElements.forEach((element) => {
    const key = element.getAttribute("data-translate-placeholder")
    if (translations[currentLanguage] && translations[currentLanguage][key]) {
      element.setAttribute("placeholder", translations[currentLanguage][key])
    }
  })
}

document.addEventListener("DOMContentLoaded", () => {
  const savedLanguage = localStorage.getItem("preferred-language")
  if (savedLanguage && translations[savedLanguage]) {
    changeLanguage(savedLanguage)
  } else {
    translatePage()
  }
})
